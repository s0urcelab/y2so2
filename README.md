# Y2SO2 - 以图搜图 Chrome 扩展

一个简单易用的以图搜图扩展，支持多引擎并行搜索。可通过右键菜单或弹窗（Popup）上传图片、粘贴图片/链接，快速在多个搜索引擎中查找相似图片或来源。

## 功能特性
- **多引擎并行搜索**：Google Lens、Yandex、Bing 视觉搜索、SauceNAO、trace.moe
- **多种输入方式**：
  - 在弹窗中粘贴图片（Ctrl/⌘+V）
  - 在弹窗中选择本地图片上传
  - 在弹窗中输入图片 URL 直接搜索
  - 在网页图片上使用右键菜单一键搜索
- **引擎多选与记忆**：在弹窗中选择的引擎会被记忆到浏览器本地存储，后续自动沿用
- **轻量快速**：基于 MV3 background Service Worker 与 React + Vite 构建

## 运行环境
- Chrome/Edge 等 Chromium 内核浏览器（Manifest V3）

## 使用说明
### 方式一：右键菜单
- 在任意网页图片上点击右键 → 选择「以图搜图」→ 选择目标引擎
- 扩展会在新标签页中打开对应引擎的搜索结果

### 方式二：弹窗（工具栏图标）
1. 点击浏览器工具栏中的扩展图标打开弹窗
2. 在网格中选择一个或多个搜索引擎（会被记忆）
3. 选择以下任一方式提交图片：
   - 粘贴图片（Ctrl/⌘+V）
   - 点击上传选择本地图片
   - 在输入框中粘贴图片 URL 并点击「搜索」（此方式不上传图片，直接以 URL 搜索）
4. 扩展将对所选引擎分别打开新标签页展示结果

## 权限说明
- `contextMenus`：用于在图片上显示「以图搜图」右键菜单
- `activeTab`：在当前活动标签页中执行必要的动作
- `storage`：保存用户选择的搜索引擎
- `host_permissions`：用于将本地图片短期上传为可访问的临时链接

## 隐私与数据
- 当通过「上传本地图片」或「粘贴图片文件」搜索时，扩展会将图片上传到环境变量 `VITE_UPLOAD_API_PREFIX` 定义的图床api以生成临时 URL，上传时默认设置过期时间 5 分钟。
- 当通过「输入图片 URL」搜索时，不会进行上传，直接在各引擎以该 URL 搜索。

